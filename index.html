<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOXTRAY åŠ‡æƒ…ç®—åœ–å·¥å…·åŒ… â”‚ å»ºæ§‹å™¨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');

        :root {
            --bg-color: #1a1a1a;
            --surface-color: #2c2c2c;
            --primary-text-color: #f5f5f5;
            --secondary-text-color: #a0a0a0;
            --accent-color: #9370DB; /* Elegant Medium Purple */
            --accent-hover-color: #a380e3;
            --border-color: #444;
            --danger-color: #e53935;
            --success-color: #43a047;
        }

        body { 
            font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
            line-height: 1.8; 
            padding: 20px; 
            margin: 0; 
            background-color: var(--bg-color);
            color: var(--primary-text-color);
        }

        .container { 
            max-width: 800px;
            margin: 20px auto;
            background-color: var(--surface-color); 
            padding: 40px; 
            border-radius: 16px; 
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
        }

        header { text-align: center; margin-bottom: 40px; }
        h1 { 
            font-size: 2.5em; 
            margin-bottom: 0.3em;
            color: #ffffff;
            font-weight: 700;
        }
        header p { color: var(--secondary-text-color); font-size: 1.1em; }

        h2 { 
            font-size: 1.6em; 
            border-bottom: 1px solid var(--border-color); 
            padding-bottom: 10px; 
            margin: 40px 0 20px 0;
            color: #e0e0e0;
            font-weight: 700;
        }
        
        .info { 
            background-color: rgba(0,0,0,0.2); 
            padding: 15px 20px; 
            border-radius: 8px; 
            margin-bottom: 30px; 
            border-left: 4px solid var(--accent-color); 
            color: var(--secondary-text-color);
        }
        .info strong { color: var(--primary-text-color); }

        .card { 
            border: 1px solid var(--border-color); 
            padding: 25px; 
            margin-bottom: 20px; 
            border-radius: 12px; 
            background-color: rgba(0,0,0,0.15); 
            transition: box-shadow 0.3s;
        }
        .card:focus-within {
             box-shadow: 0 0 15px rgba(147, 112, 219, 0.2);
        }

        label { display: block; margin-bottom: 5px; color: var(--secondary-text-color); font-weight: 700; }
        input, textarea { 
            width: calc(100% - 24px); 
            padding: 12px; 
            margin-bottom: 10px;
            border-radius: 8px; 
            border: 1px solid var(--border-color); 
            font-size: 1em;
            background-color: #333;
            color: var(--primary-text-color);
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        input:focus, textarea:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 8px rgba(147, 112, 219, 0.5);
            outline: none;
        }
        textarea { height: 130px; resize: vertical; }

        button { 
            padding: 12px 24px; 
            cursor: pointer; 
            border-radius: 8px; 
            border: none; 
            font-size: 1em; 
            font-weight: 700; 
            transition: all 0.2s ease-in-out;
        }
        button:active { transform: scale(0.97); }

        .main-btn { 
            background-color: var(--accent-color); 
            color: #ffffff; 
            width: 100%; 
            font-size: 1.2em; 
            box-shadow: 0 4px 15px rgba(147, 112, 219, 0.2);
        }
        .main-btn:hover { background-color: var(--accent-hover-color); box-shadow: 0 6px 20px rgba(147, 112, 219, 0.3); }
        
        .add-btn { 
            background-color: transparent; 
            color: var(--success-color); 
            border: 2px solid var(--success-color);
            margin-top: 10px;
        }
        .add-btn:hover { background-color: var(--success-color); color: white; }
        
        .del-btn { 
            background-color: transparent; 
            color: var(--danger-color); 
            border: 1px solid var(--danger-color);
            float: right; 
            padding: 5px 10px; 
            font-size: 0.8em; 
        }
        .del-btn:hover { background-color: var(--danger-color); color: white; }
        
        .instructions { 
            margin-top: 40px; 
            background-color: rgba(0,0,0,0.2); 
            padding: 25px; 
            border-radius: 12px; 
            border: 1px solid var(--border-color);
        }
        .instructions ol { padding-left: 20px; }
        .instructions li { margin-bottom: 10px; }

        code { 
            background-color: #111; 
            color: var(--accent-color); 
            padding: 4px 8px; 
            border-radius: 5px; 
            font-weight: bold; 
            border: 1px solid var(--border-color);
        }
        
        footer { text-align: center; margin-top: 40px; color: #888; font-size: 0.9em; }
        a { color: var(--accent-color); text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>NOXTRAY åŠ‡æƒ…ç®—åœ–å·¥å…·åŒ… â”‚ å»ºæ§‹å™¨</h1>
            <p>å°ˆç‚ºç©å®¶è¨­è¨ˆï¼Œæ‰“é€ ä½ çš„å®¢è£½åŒ– AI ç®—åœ–æŒ‡ä»¤æ ¸å¿ƒã€‚</p>
        </header>
        
        <div class="info">
            <strong>æ ¸å¿ƒè§’è‰²ï¼š</strong> è§’è‰²ã€ŒçŸ³ç¿/STRAYã€èˆ‡ã€Œä½•æ€å¹´/NOXã€ç‚ºå›ºå®šè§’è‰²ï¼Œå°‡è‡ªå‹•åŒ…å«åœ¨æœ€çµ‚è¨­å®šæª”ä¸­ä¸¦äº«æœ‰æœ€é«˜æ§‹åœ–å„ªå…ˆç´šã€‚
        </div>

        <h2>1. è¨­å®šæ‚¨çš„å°ˆå±¬è§’è‰² (USER)</h2>
        <div class="card user-card">
            <label for="user-name">æ‚¨çš„è§’è‰²åç¨±</label>
            <input type="text" id="user-name" placeholder="ä¾‹å¦‚: ä½ çš„åå­—, PCæš±ç¨±">
            <label for="user-prompt">æ‚¨çš„è§’è‰²æ ¸å¿ƒæç¤ºè© (Base Prompt Token)</label>
            <textarea id="user-prompt" placeholder="è«‹è²¼ä¸Šæ‚¨è§’è‰²çš„è‹±æ–‡æç¤ºè©ï¼Œä¾‹å¦‚ï¼š(1girl,long blonde hair, blue eyes)"></textarea>
        </div>

        <h2>2. æ–°å¢å…¶ä»–é…è§’ (é¸å¡«)</h2>
        <div id="additional-characters-container"></div>
        <button onclick="addCharacter()" class="add-btn">ï¼‹ æ–°å¢å…¶ä»–é…è§’</button>
        
        <hr style="margin: 50px 0; border: none; border-top: 1px solid var(--border-color);">

        <h2>3. ç”Ÿæˆæ‚¨çš„å°ˆå±¬å·¥å…·åŒ…</h2>
        <button onclick="generateTxt()" class="main-btn">ç”Ÿæˆä¸¦ä¸‹è¼‰ .txt å·¥å…·åŒ…</button>

        <div class="instructions">
            <h2>NOXTRAY åŠ‡æƒ…ç•«é¢æè©ç”Ÿæˆå·¥å…·ä½¿ç”¨æ–¹æ³•èªªæ˜</h2>
            <ol>
                <li><strong>è¼‰å…¥è¨­å®šï¼š</strong> å°‡ä¸‹è¼‰çš„ <code>.txt</code> æª”æ¡ˆå…§å®¹ï¼Œä¸Šå‚³åˆ°GEMå¾Œå°æˆ–æ˜¯GPTå°ˆæ¡ˆã€‚</li>
                <li><strong>é–‹å§‹åŠ‡æƒ…ï¼š</strong> åƒå¹³å¸¸ä¸€æ¨£èˆ‡ AI é–‹å§‹é€²è¡Œè§’è‰²æ‰®æ¼”ã€‚</li>
                <li><strong>è§¸ç™¼ç¹ªåœ–ï¼š</strong> ç•¶åŠ‡æƒ…ç™¼å±•åˆ°æ‚¨æƒ³æ•æ‰çš„ç¬é–“ï¼Œåªéœ€åœ¨å°è©±ä¸­ç™¼é€æŒ‡ä»¤ï¼š<code>//ç”ŸæˆåŠ‡æƒ…ç•«é¢é¡Œè©</code></li>
                <li><strong>å–å¾—æç¤ºè©ï¼š</strong> AI å°‡æœƒæ ¹æ“šæ­¤è¨­å®šæª”çš„è¦å‰‡ï¼Œè‡ªå‹•ç”Ÿæˆä¸€æ®µé«˜å“è³ªã€è§’è‰²ç‰¹å¾µç©©å®šçš„è‹±æ–‡ç¹ªåœ–æç¤ºè©ã€‚æ‚¨å¯ä»¥ç›´æ¥è¤‡è£½å» PixAIã€Midjourney ç­‰å·¥å…·ä¸­ä½¿ç”¨ï¼</li>
                <li><strong>PIXAIæ¨è–¦å¯ä»¥æŸ¥çœ‹æ–°æ‰‹æ•™å­¸ï¼š</strong> <a href="https://minijinai75.notion.site/noxtray-prompt-helper" target="_blank" rel="noopener noreferrer">https://minijinai75.notion.site/noxtray-prompt-helper</a></li>
            </ol>
        </div>
    </div>

    <footer>
        <p>ç”± Minijin (@minijinai75) å’Œå¥¹çš„å°ç²¾éˆå€‘ä¸€èµ·å„ªåŒ–èˆ‡å»ºæ§‹ ğŸ’œ</p>
        <p>æª”æ¡ˆå…¨ç¨‹åœ¨æ‚¨çš„è£ç½®é›¢ç·šè™•ç†ï¼Œå®‰å…¨ç„¡è™ã€‚</p>
    </footer>

    <script>
        const fullTxtTemplate = `# =================================================================
#            æ™ºæ…§å‹ç¹ªåœ–æç¤ºè©ç”¢ç”Ÿå™¨è¨­å®š v3.2 (å„ªå…ˆç´šæ’åºå¼·åŒ–ç‰ˆ)
#     (æ•´åˆå›ºå®šè§’è‰²äººè¨­ï¼Œä¸¦èƒ½è‡ªå‹•åˆ†æç•¶å‰åŠ‡æƒ…ç”Ÿæˆæç¤ºè©)
# =================================================================

# --- è§’è‰²è³‡æ–™åº« (ä¿æŒä¸è®Š) ---
# é€™æ˜¯ç¢ºä¿è§’è‰²å¤–è§€ä¸€è‡´æ€§çš„æ ¸å¿ƒï¼ŒAIæœƒå¾é€™è£¡è®€å–è§’è‰²çš„åŸºç¤æ¨£è²Œã€‚
[CHARACTER_DATABASE]:
{{CHARACTER_DATABASE_CONTENT}}
# --- æç¤ºè©å»ºæ§‹æ¨¡çµ„ (ä¿æŒä¸è®Š) ---

# --- è¦–è¦ºæç¤ºè©çµæ§‹å„ªåŒ–è¦å‰‡ (PixAI å‹å–„æ§‹åœ–å¼·åŒ–ç‰ˆ) ---

# --- è§’è‰²äººè¨­å®Œæ•´è¼¸å‡ºç­–ç•¥ (å„ªåŒ–ç‰ˆ) ---
[CHARACTER_PROMPT_POLICY]:
  enforce_verbatim_output: true
  description: |
    **[CRITICAL RULE]**
    When generating the final prompt, the base_prompt_token for each present character from [CHARACTER_DATABASE] MUST be copied and pasted **verbatim** without any modification, summarization, or rephrasing.
    **DO NOT** simplify, shorten, or merge keywords. For example, "wavy long gray-brown hair, long hair" must remain as is, and not be changed to "long wavy gray-brown hair".
    The output structure for each character must be a single, continuous block enclosed in double parentheses: (([verbatim_base_prompt_token], [dynamic_description], [clothing])).
    Failure to adhere to this verbatim copy rule will result in an error.

[PROMPT_REFINEMENT_RULES]:

  verbatim_integrity_check:
    action: |
      - Before finalizing the prompt, verify that the complete and unmodified string for each character's base_prompt_token from [CHARACTER_DATABASE] is present in its entirety.
      - Compare the generated character prompt block against the source base_prompt_token. They must match exactly.

  enhance_character_identity:
    action: |
      - æ¯å€‹è§’è‰²æç¤ºè©ç¨ç«‹ä¸€è¡Œï¼Œä¸¦ä½¿ç”¨ (()) åŒ…è¦†æ•´æ®µæå‡æ¬Šé‡
      - åˆä½µ base_prompt_token + å‹•ä½œæè¿° + æœè£ç´°ç¯€ç‚ºä¸€é«”ï¼Œé¿å…åˆ†æ•£
      - æ‹†è§£çµ„åˆè©ï¼šå°‡ hair é¡æ¨™ç±¤å¦‚ "black long hair" æ”¹ç‚º "black hair, long hair"

  auto_keyword_boost:
    target_keywords:
      - hair color
      - hair length
      - eye color
      - piercings
      - gender markers
    action: "è‡ªå‹•å°é€™äº›é—œéµè©åŠ ä¸Š ((...)) é›™å±¤æ‹¬è™Ÿä»¥æé«˜ç©©å®šæ€§"

  # [å„ªåŒ–] å»ºç«‹ä¸€å€‹çµ•å°çš„è§’è‰²å„ªå…ˆç´šæ’åºè¦å‰‡ï¼Œä»¥æ‡‰å°æ‰€æœ‰è§’è‰²çµ„åˆæƒ…æ³ã€‚
  enforce_character_priority_order:
    description: "åœ¨ç”Ÿæˆæœ€çµ‚æç¤ºè©æ™‚ï¼Œæ‰€æœ‰è§’è‰²çš„æè¿°å¡Šå¿…é ˆåš´æ ¼éµå¾ªä»¥ä¸‹å„ªå…ˆç´šé †åºæ’åˆ—ã€‚æ­¤è¦å‰‡è¦†è“‹æ‰€æœ‰å…¶ä»–æ’åºé‚è¼¯ã€‚"
    priority_order:
      - "1. çŸ³ç¿/STRAY/ç¿ (character_B)"
      - "2. ä½•æ€å¹´/NOX/æ€å¹´ (character_C)"
      - "3. USER (character_A)"
      - "4. å…¶ä»–æ‰€æœ‰è§’è‰² (æŒ‰ç…§ character_D, E, F... çš„é †åº)"
    example_scenarios:
      - "è‹¥å ´æ™¯ç‚º USER + STRAYï¼Œå‰‡æœ€çµ‚é †åºå¿…é ˆæ˜¯ï¼š(([STRay...])), (([USER...]))"
      - "è‹¥å ´æ™¯ç‚º USER + NOXï¼Œå‰‡æœ€çµ‚é †åºå¿…é ˆæ˜¯ï¼š(([NOX...])), (([USER...]))"
      - "è‹¥å ´æ™¯ç‚º USER + STRAY + NOXï¼Œå‰‡æœ€çµ‚é †åºå¿…é ˆæ˜¯ï¼š(([STRay...])), (([NOX...])), (([USER...]))"
      - "è‹¥å ´æ™¯ç‚º USER + NOX + ä¸€å€‹è‡ªè¨‚è§’è‰²(D)ï¼Œå‰‡æœ€çµ‚é †åºå¿…é ˆæ˜¯ï¼š(([NOX...])), (([USER...])), (([è‡ªè¨‚è§’è‰²D...]))"


# --- å‹•æ…‹è² é¢æç¤ºè©æ“´å……æ¨¡çµ„ ---
[LOGIC_NEGATIVE_MERGE]:
  description: |
    æ­¤æ¨¡çµ„æœƒæ–¼ç”Ÿæˆ final_negative_prompt å‰è‡ªå‹•åŸ·è¡Œï¼Œæµç¨‹å¦‚ä¸‹ï¼š
    1. è§£æç›®å‰ç”Ÿæˆçš„ final_positive_prompt æ–‡å­—å…§å®¹ã€‚
    2. æ¯”å°å…¶ä¸­å‡ºç¾çš„é—œéµè©ï¼Œå°ç…§ [DYNAMIC_NEGATIVE_EXPANSION] è£¡çš„æ¢ä»¶è¡¨ã€‚
    3. æ ¹æ“šå‘½ä¸­çš„é—œéµè©ï¼Œæ”¶é›†å°æ‡‰çš„å‹•æ…‹è² é¢æç¤ºè©ã€‚
    4. æœ€å¾Œèˆ‡ default è² é¢æç¤ºè©åˆä½µï¼Œä¸¦è‡ªå‹•å»é‡ã€‚
    5. çµ„åˆç‚ºæœ€çµ‚çš„ final_negative_promptï¼ˆçœŸå¯¦ç”Ÿæˆç‰ˆæœ¬ï¼‰ã€‚

  process:
    - step: 1
      action: "æƒæ final_positive_prompt ä¸­çš„æ–‡å­—ï¼Œè¨˜éŒ„å‡ºç¾éçš„é—œéµè©"
    - step: 2
      action: "æŸ¥è©¢ DYNAMIC_NEGATIVE_EXPANSION ä¸­æ˜¯å¦æœ‰å‘½ä¸­é€™äº›é—œéµè©"
    - step: 3
      action: "æ“´å……ç¬¦åˆæ¢ä»¶çš„è² é¢æç¤ºè©é›†åˆ"
    - step: 4
      action: "èˆ‡ [negative_prompts.default] åˆä½µä¸¦å»é™¤é‡è¤‡"
    - step: 5
      action: "å»ºç«‹æ–°çš„ final_negative_promptï¼Œæ ¼å¼ç‚ºï¼šåˆä½µå¾Œå­—ä¸²"

[DYNAMIC_NEGATIVE_EXPANSION]:
  enabled: true
  match_and_expand:
    face: ["ugly face", "deformed face", "cross-eyed"]
    hands: ["bad hands", "missing fingers", "extra fingers", "disconnected fingers"]
    fingers: ["bad fingers", "excess fingers"]
    feet: ["malformed feet", "missing toes", "bad toes"]
    body: ["bad anatomy", "disconnected limbs", "dislocated joints"]
    "full body": ["bad anatomy", "limb error", "misaligned body parts"]
    glass: ["bad reflections", "unwanted glare"]
    water: ["water blur", "color bleeding"]
    text: ["text", "watermark", "signature"]
    background: ["messy background", "depth error", "unrealistic background"]

[PROMPT_BUILDING_BLOCKS]:
  quality_enhancers:
    default: "masterpiece, best quality, high resolution, ultra-detailed, intricate details, sharp focus,"
  
  negative_prompts:
    default: "bad quality, low quality, worst quality, lowres, jpeg artifacts, scan artifacts, mosaic, cropped, error, fewer digits, bad reflection, bad composition, bad anatomy, bad hands, bad fingers, missing fingers, extra hands, extra legs, excess fingers, light particles, artist name, text, watermark, username, copyright name,, "

# --- æ ¸å¿ƒç¹ªåœ–åŠŸèƒ½ (å…¨æ–°å„ªåŒ–) ---
[VISUAL_PROMPT_GENERATOR]:
  enabled: true
  description: |
    åœ¨ Role Play é€²è¡Œä¸­ï¼Œç•¶ç©å®¶è¼¸å…¥ç‰¹å®šæŒ‡ä»¤ï¼Œç³»çµ±æœƒè‡ªå‹•åˆ†ææœ€è¿‘çš„å°è©±å…§å®¹ï¼Œ
    æç…‰å‡ºç•«é¢é—œéµå…ƒç´ ï¼Œä¸¦çµåˆè§’è‰²è³‡æ–™åº«ï¼Œç”Ÿæˆä¸€æ®µç”¨æ–¼ PixAI çš„é«˜å“è³ªè‹±æ–‡æç¤ºè©ã€‚

  output_format:
    prefix: "ğŸ“¸ æ•æ‰åˆ°é€™å€‹ç¬é–“ï¼PixAI æç¤ºè©å¦‚ä¸‹ï¼š"
    structure: "[å“è³ª], [ä¸»é«”èˆ‡å‹•æ…‹], [å ´æ™¯], [æ°›åœ], [æ§‹åœ–]"

  triggers:
    - event: "on_demand_contextual_generation"
      command: "//ç”ŸæˆåŠ‡æƒ…ç•«é¢é¡Œè©"
      process:
        - step: 1
          action: "æ¥æ”¶åˆ°æŒ‡ä»¤å¾Œï¼Œç«‹åˆ»æš«åœ Role Playï¼Œä¸¦å›æ‡‰ï¼šã€å¥½çš„ï¼Œè®“æˆ‘ä¾†æ•æ‰é€™å€‹ç¬é–“...ã€"
        - step: 2
          action: "åˆ†æè§¸ç™¼æŒ‡ä»¤å‰çš„ [æœ€è¿‘3-5è¼ªå°è©±ç´€éŒ„]ï¼Œä½œç‚ºç”Ÿæˆåœ–ç‰‡çš„ä¾æ“šã€‚"
        - step: 3
          action: "å¾å°è©±ä¸­ï¼Œè­˜åˆ¥å‡ºå ´æ™¯ä¸­åŒ…å«çš„è§’è‰² (ä¾‹å¦‚ï¼šè§’è‰²A, è§’è‰²C)ã€‚"
        - step: 4
          action: "å¾ [CHARACTER_DATABASE] ä¸­ï¼Œæå–å°æ‡‰è§’è‰²çš„ [base_prompt_token]ã€‚"
        - step: 5
          action: "å†æ¬¡åˆ†æå°è©±ï¼Œç‚ºæ¯ä¸€ä½åœ¨å ´è§’è‰²æç…‰å‡ºã€å‹•æ…‹æè¿°ã€(dynamic_description)ã€‚"
        - step: 6
          action: "å¾å°è©±ä¸­æç…‰å‡ºã€ç’°å¢ƒæè¿°ã€(environment_description)ã€‚"
        - step: 7
          action: "æ ¹æ“šåˆ†æçµæœï¼Œæ§‹æ€ä¸€å€‹æœ€é©åˆçš„ã€æ§‹åœ–å»ºè­°ã€(composition)ã€‚"
        - step: 8
          action: "çµ„åˆæœ€çµ‚æç¤ºè©ã€‚åš´æ ¼éµå¾ª [PROMPT_REFINEMENT_RULES] ä¸­çš„è§’è‰²å„ªå…ˆç´šé †åºä¾†æ’åˆ—è§’è‰²æè¿°ã€‚"
        - step: 9
          action: "è¼¸å‡ºçµ„åˆå¥½çš„ã€æ­£é¢æç¤ºè©ã€å’Œå›ºå®šçš„ã€è² é¢æç¤ºè©ã€ï¼Œç„¶å¾Œè©¢å•ï¼šã€éœ€è¦è¿”å›åŠ‡æƒ…å—ï¼Ÿã€"
`;
    let additionalCharCount = 0;
    function addCharacter(){additionalCharCount++;const e=document.getElementById("additional-characters-container"),t=document.createElement("div");t.className="card additional-card",t.innerHTML=`\n            <button class="del-btn" onclick="this.parentElement.remove()">åˆªé™¤</button>\n            <h4>é¡å¤–é…è§’ ${additionalCharCount}</h4>\n            <label>è§’è‰²åç¨±:</label>\n            <input type="text" class="char-name" placeholder="è«‹è¼¸å…¥è§’è‰²åç¨±">\n            <label>è§’è‰²æ ¸å¿ƒæç¤ºè© (Base Prompt Token):</label>\n            <textarea class="char-prompt" placeholder="è«‹è²¼ä¸Šè§’è‰²çš„è‹±æ–‡æç¤ºè©..."></textarea>\n        `,e.appendChild(t)}function generateTxt(){let e="";const t=document.getElementById("user-name").value.trim(),a=document.getElementById("user-prompt").value.trim().replace(/[()]/g,"");if(!t||!a)return void alert("è«‹å‹™å¿…å¡«å¯«æ‚¨çš„å°ˆå±¬è§’è‰²(USER)çš„åç¨±å’Œæç¤ºè©ï¼");e+=`  character_A:\n`,e+=`    name: "${t}"\n`,e+=`    base_prompt_token: "(${a})"\n\n`,e+=`  character_B:\n`,e+=`    name: "çŸ³ç¿/STRAY/ç¿"\n`,e+=`    base_prompt_token: "(1male, solo, Handsome, perfect eyes, dark hair, green eyes, elegantly arched eyebrows, high-bridged nose, refined shape, silver earrings, light skin tone, smooth and delicate skin, bangs covering forehead, handsome boy, short hair, aegyo sal, height 175cm, slim but well-built, clean and boyish appearance)"\n\n`,e+=`  character_C:\n`,e+=`    name: "ä½•æ€å¹´/NOX/æ€å¹´"\n`,e+=`    base_prompt_token: "(solo, 1male, Silver irises, moderate eye size, silver-grey eyes, slim arched eyebrows, high-bridged nose, thin lips, gray hair, short hair, 37/63 hair parting, smooth layered hair, left-side bangs, hair falling over left eye, Pale porcelain skin, handsome anime boy,masterpiece, best quality,)"\n\n`;const n=document.querySelectorAll(".additional-card");let o=68;n.forEach((t=>{const a=t.querySelector(".char-name").value.trim(),n=t.querySelector(".char-prompt").value.trim().replace(/[()]/g,"");a&&n&&(e+=`  character_${String.fromCharCode(o)}:\n`,e+=`    name: "${a}"\n`,e+=`    base_prompt_token: "(${n})"\n\n`,o++)}));const r=fullTxtTemplate.replace("{{CHARACTER_DATABASE_CONTENT}}",e.trim()),c=new Blob([r],{type:"text/plain;charset=utf-8"}),d=document.createElement("a");const i=t||"USER";d.href=URL.createObjectURL(c),d.download=`${i}å°ˆå±¬NOXTRAYåŠ‡æƒ…ç•«é¢æè©ç”Ÿæˆå·¥å…·åŒ….txt`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(d.href),alert("æ‚¨çš„å°ˆå±¬å·¥å…·åŒ…å·²ç”Ÿæˆä¸¦é–‹å§‹ä¸‹è¼‰ï¼è«‹æŸ¥çœ‹ç€è¦½å™¨çš„ä¸‹è¼‰é …ç›®ã€‚")}
    </script>
</body>
</html>